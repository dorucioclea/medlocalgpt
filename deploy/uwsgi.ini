[uwsgi]
protocol = uwsgi

[uwsgi]
; uwsgi setup
uid = www-data
gid = www-data
strict = true
master = true
; A note on Python threads
; If you start uWSGI without threads, the Python GIL will not be enabled, so threads generated by your application will never run. You may not like that choice, but remember that uWSGI is a language-independent server, so most of its choices are for maintaining it “agnostic”. But do not worry, there are basically no choices made by the uWSGI developers that cannot be changed with an option. If you want to maintain Python threads support without starting multiple threads for your application, just add the --enable-threads option (or enable-threads = true in ini style).
enable-threads = true
single-interpreter = true
lazy-apps = true
callable = app
need-app = true
vacuum = true
die-on-term = true

; app setup
module = wsgi:app
socket = 0.0.0.0:8080
chmod-socket = 664

; workers
# cheaper-algo = spare
cheaper-algo = busyness
cheaper = 1
processes = %(%k + 1)

; stats
stats = /tmp/medlocalgpt.stats
memory-report = true
; Disable built-in logging 
# disable-logging = true
; but log 4xx's anyway
# log-4xx = true
; and 5xx's
# log-5xx = true